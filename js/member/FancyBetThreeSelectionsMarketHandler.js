"undefined"==typeof FancyBetThreeSelectionsMarketHandler&&(FancyBetThreeSelectionsMarketHandler={});
(function(){function m(f,a,b,d,e){f=function(k,g,c,l,h){return function(){var n=g.find("#runsInfo").prop("runs")||0,p=g.find("#runsInfo").prop("odds")||0;0!=n&&0!=p&&("true"==PageConfig.ENABLE_ONE_CLICK_BET&&OneClickBetHandler.isEnable()&&1==PageConfig.isOneClickBet&&PageConfig.ENABLE_ONE_CLICK_BET_ALL_PAGE?OneClickBetHandler.isEnableSubmitOneClickBet()&&OneClickBetHandler.placeFancyBet(k,c.eventType,c.eventId,c.marketId,h,n,p):(FancyBetMarketHandler.addSelectClass(g,c.eventId),FancyBetThreeSelectionsHandler.appendBoard(k,
c,l,h,n,p)))}}(f,a,b,d,e);a.on("click",f)}FancyBetThreeSelectionsMarketHandler.genFancyBetMarket=function(f,a){var b=f.find("#fancyBeThreeSelectionsMarketTemplate").clone(),d=DataBase.fancyBetMarkets.getSelections(a.eventId,a.marketId);if(3==d.length){var e=d[0].selectionId,k=d[1].selectionId,g=d[2].selectionId;b.prop("id","fancyBetMarket_"+a.marketId);b.prop("eventId",a.eventId);b.prop("marketId",a.marketId);b.prop("marketType",a.marketType);b.prop("summaryStatus",a.summaryStatus);b.prop("updateDate",
a.updateDate);b.prop("marketName",a.marketName);b.prop("sort",a.sort);b.find("#marketName").html(a.marketName);var c=b.find("td ul:eq(0)");c.prop("id","fancyBetSelection_"+a.marketId+"_"+e);c.prop("selectionId",e);c.prop("status",d[0].status);var l=b.find("td ul:eq(1)");l.prop("id","fancyBetSelection_"+a.marketId+"_"+k);l.prop("selectionId",k);l.prop("status",d[1].status);var h=b.find("td ul:eq(2)");h.prop("id","fancyBetSelection_"+a.marketId+"_"+g);h.prop("selectionId",g);h.prop("status",d[2].status);
null!=a.remarkFirstRow&&0<a.remarkFirstRow.length&&(b.find("#remarkFirstRow").show(),b.find("#remarkFirstRow").html(a.remarkFirstRow));null!=a.remarkSecondRow&&0<a.remarkSecondRow.length&&(b.find("#remarkSecondRow").show(),b.find("#remarkSecondRow").html(a.remarkSecondRow));m(b,c.find("#lay_1"),a,e,FancySideType.NO.unique());m(b,c.find("#back_1"),a,e,FancySideType.YES.unique());m(b,l.find("#lay_1"),a,k,FancySideType.NO.unique());m(b,l.find("#back_1"),a,k,FancySideType.YES.unique());m(b,h.find("#lay_1"),
a,g,FancySideType.NO.unique());m(b,h.find("#back_1"),a,g,FancySideType.YES.unique());f.append(b);FancyBetMarketHandler.bindFancyBetBookClickFunc(b,a.eventId,a.marketId);0<DataBase.fancyBetTxn.getByMarketId(a.eventId,a.marketId+"",null,null,CategoryType.FANCY_BET.unique()).length&&(b.find("#fancyBetBookBtn").show(),FancyBetHandler.getExposure(a.eventId,a.marketId));return b}};FancyBetThreeSelectionsMarketHandler.updateFancyBetMarket=function(f,a,b,d,e){a.prop("sort",b.sort);a.find("#minMax").html(CurrencyUtil.formatter(b.min,
e)+" / "+CurrencyUtil.formatter(b.max,e));0==b.rebateRatio?(a.find("#rebateName").hide(),a.find("#rebate").hide()):(a.find("#rebateName").show(),a.find("#rebate").show(),a.find("#rebate").html(MathUtil.decimal.multiply(b.rebateRatio,100)+"%"));FancyBetMarketHandler.updateMarketStatus(f,a,b);FancyBetMarketHandler.updateMarketRemark(a,b)}})();

